<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="website_project_weezer.view_announcement" name="View announcement">
            <t t-call="website.layout">
                <t t-if='success_message_list'>
                    <t t-foreach="success_message_list" t-as="message">
                        <b><t t-esc="message"/></b><br/>
                    </t>
                </t>
                
                <a href="new">New</a> <a t-att-href="'%s/edit' % announcement.id">Edit</a><br/>
                Category: 
                <select name="category_id" disabled="disabled">
                    <t t-if="bool(announcement.category_id) == False">
                        <option selected="selected"></option>                      
                    </t>
                    <t t-if="bool(announcement.category_id) != False">
                        <option><t t-esc="announcement.category_id.name"/></option>                      
                    </t>
                </select><br/>
                Tags:
                <select name="tag_ids" multiple="multiple" disabled="disabled">
                    <t t-if="bool(announcement.tag_ids) == False">
                        <option selected="selected"></option>                      
                    </t>
                    <t t-if="bool(announcement.tag_ids) != False">
                        <t t-foreach="announcement.tag_ids" t-as="tag">
                            <option selected="selected"><t t-esc='tag.name'/></option>
                        </t>
                    </t>
                </select>
                <br/>
                Groups: 
                <select name="groups" multiple="multiple" disabled="disabled">
                    <t t-if="bool(announcement.context_group_ids) == False">
                        <option selected="selected"></option>                      
                    </t>
                    <t t-if="bool(announcement.context_group_ids) != False">
                        <t t-foreach="announcement.context_group_ids" t-as="group">
                            <option selected="selected"><t t-esc='group.name'/></option>
                        </t>
                    </t>
                </select><br/>
                State: 
                    <t t-foreach="state_status_dict.keys()" t-as="state">
                        <t t-if="state == announcement.state">
                            <span><b><t t-esc='state_status_dict[state]'/></b></span>
                        </t>
                        <t t-if="state != announcement.state">
                            <span><t t-esc='state_status_dict[state]'/></span>
                        </t>
                    </t>
                <br/>
                Documents: 
                <t t-if="attachment_dict">
                    <t t-foreach="attachment_dict.keys()" t-as="attach">
                        <a t-att-href="attach"><t t-esc='attachment_dict[attach]'/></a>
                    </t>
                </t>
                <br/>
                Link:  <input disabled="disabled" t-att-value="announcement.link"/><br/>
                Emergency: <t t-if="announcement.emergency == False">
                    <input disabled="disabled" type="checkbox"/> 
                </t>
                <t t-if="announcement.emergency">
                    <input disabled="disabled" type="checkbox" checked="checked"/>
                </t> <br/>
                Author: <input disabled="disabled" t-att-value="author.name"/><br/>
                <span t-field="author.image" t-field-options='{"widget": "image"}'/> <br/>

                <span t-field="announcement.picture" t-field-options='{"widget": "image"}'/> <br/>
                Title: <input  disabled="disabled" t-att-value="announcement.name"/> <br/>
                Description: <input  disabled="disabled" t-att-value="announcement.description"/> <br/>
                Where: <br/>
                Street: <input  disabled="disabled" t-att-value="announcement.street"/> <br/>
                Street2: <input  disabled="disabled" t-att-value="announcement.street2"/> <br/>
                zip: <input  disabled="disabled" t-att-value="announcement.zip"/> <br/>
                city: <input  disabled="disabled" t-att-value="announcement.city"/> <br/>
                us state:
                <select disabled="disabled"> 
                    <t t-if="bool(announcement.state_id) == False">
                        <option value="None" selected="selected"></option>                      
                    </t>
                    <t t-if="bool(announcement.state_id) != False">
                        <option selected="selected"><t t-esc="announcement.state_id.name"/></option>                      
                    </t>
                </select><br/>
                <select disabled="disabled">
                    <t t-if="bool(announcement.country_id) == False">
                        <option value="None" selected="selected"></option>                      
                    </t>
                    <t t-if="bool(announcement.country_id) != False">
                        <option selected="selected"><t t-esc="announcement.country_id.name"/></option>                      
                    </t>
                </select><br/>
                From: <input disabled="disabled" t-att-value="announcement.date_from"/> <br/>
                To: <input disabled="disabled" t-att-value="announcement.date_to"/>  <br/>
                <t t-if="announcement.infinite_qty == False">
                    <input disabled="disabled" type="checkbox"/> Infinity
                </t>
                <t t-if="announcement.infinite_qty">
                    <input disabled="disabled" type="checkbox" checked="checked"/> Infinity
                </t>
                <br/>
                qty: <input disabled="disabled" t-att-value="announcement.quantity"/> <br/>
                available: <span t-field="announcement.quantity_available"/> <br/>
                How much:
                <t t-foreach="announcement.currency_ids" t-as="currency_line">
                    <input disabled="disabled" t-att-value="currency_line.price_unit"/>
                    <select disabled="disabled"> 
                        <option><t t-esc='currency_line.currency_id.name'/></option>
                    </select><br/>
                </t>
                <br/>
                Who has replied?
                <t t-foreach="replied_list" t-as="reply">
                    <span t-field="reply.create_uid.image" t-field-options='{"widget": "image"}'/> <br/>
                    <t t-esc="reply.create_uid.name"/> <br/>
                    Description: <t t-esc="reply.description"/> <br/>
                    Quantity: <t t-esc="reply.quantity"/> <br/>
                    When: <t t-esc="reply.write_date"/> <br/>
                    Where: ??? <br/>
                    Rat: ??? <br/>
                    Indicate: ??? <br/>
                    Feedback: ??? <br/>
                    <table>
                        <tr>
                            <td>
                                Unit price 
                            </td>
                            <td>
                                Currency
                            </td>
                            <td>
                                Subtotal
                            </td>
                        </tr>
                        <t t-foreach="reply.currency_ids" t-as="line">
                            <tr>
                                <td>
                                    <t t-esc="line.price_unit"/>
                                </td>
                                <td>
                                    <t t-esc="line.currency_id.name"/>
                                </td>
                                <td>
                                    <t t-esc="line.subtotal"/>
                                </td>
                            </tr>
                        </t>
                    </table>

                    =====================
                </t>
            </t>
        </template>

    	<template id="website_project_weezer.edit_announcement" name="Edit announcement">
    		<t t-call="website.layout">
                <form action="save" method="POST" enctype="multipart/form-data">
                    <t t-if='error_param_list'>
                        <t t-foreach="error_param_list" t-as="message">
                            <b><t t-esc="message"/></b>
                        </t><br/>
                    </t>
                    <t t-if='error_message_list'>
                        <t t-foreach="error_message_list" t-as="message">
                            <b><t t-esc="message"/></b><br/>
                        </t>
                    </t>
                    <input type="submit" value="save"/><br/>
        			Category: 
        			<select name="category_id">
    	   				<t t-if="bool(announcement.category_id) == False">
        					<option value="None" selected="selected"></option>    					
        				</t>
    	   				<t t-if="bool(announcement.category_id) != False">
        					<option value="None"></option>    					
        				</t>
     
        				<t t-foreach="category_dict.keys()" t-as="category_id">
        					<t t-if="category_id == announcement.category_id.id">
        						<option selected="selected" t-att-value='category_id'><t t-esc='category_dict[category_id]'/></option>
        					</t>
        					<t t-if="category_id != announcement.category_id.id">
        						<option t-att-value='category_id'><t t-esc='category_dict[category_id]'/></option>
        					</t>
        				</t>
        			</select><br/>
        			Tags:
        			<select name="tag_ids" multiple="multiple">
    	   				<t t-if="bool(announcement.tag_ids) == False">
        					<option value="None" selected="selected"></option>    					
        				</t>
    	   				<t t-if="bool(announcement.tag_ids) != False">
        					<option value="None"></option>    					
        				</t>
     
        				<t t-foreach="tag_dict.keys()" t-as="tag_id">
        					<t t-if="tag_id in announcement.tag_ids">
        						<option selected="selected" t-att-value='tag_id'><t t-esc='tag_dict[tag_id]'/></option>
        					</t>
        					<t t-if="tag_id not in announcement.tag_ids">
        						<option t-att-value='tag_id'><t t-esc='tag_dict[tag_id]'/></option>
        					</t>
        				</t>
        			</select>
                    <select name="new_tags" multiple="multiple">
                        <option value="newtag1">newtag1</option>                      
                        <option value="newtag2">newtag2</option>                      
                        <option value="newtag3">newtag3</option>                      
                        <option value="newtag4">newtag4</option>                      
                    </select>
        			<br/>
        			Groups: 
        			<select name="groups" multiple="multiple">
    	   				<t t-if="bool(announcement.context_group_ids) == False">
        					<option value="None" selected="selected"></option>    					
        				</t>
    	   				<t t-if="bool(announcement.context_group_ids) != False">
        					<option value="None"></option>    					
        				</t>
     					<t t-foreach="group_dict.keys()" t-as="group_id">
        					<t t-if="group_id in announcement.context_group_ids">
        						<option selected="selected" t-att-value='group_id'><t t-esc='group_dict[group_id]'/></option>
        					</t>
        					<t t-if="group_id not in announcement.context_group_ids">
        						<option t-att-value='group_id'><t t-esc='group_dict[group_id]'/></option>
        					</t>
        				</t>
        				
        			</select><br/>
        			State: 
        				<t t-foreach="state_status_dict.keys()" t-as="state">
        					<t t-if="state == announcement.state">
       							<span><b><t t-esc='state_status_dict[state]'/></b></span>
       						</t>
       						<t t-if="state != announcement.state">
       							<span><t t-esc='state_status_dict[state]'/></span>
       						</t>
        				</t>
        			<br/>
        			Documents: 
        			<t t-if="attachment_dict">
    	    			<t t-foreach="attachment_dict.keys()" t-as="attach">
    	   					<a t-att-href="attach"><t t-esc='attachment_dict[attach]'/></a>
                            <!-- to delete send json request to url '%s/delete' % attach -->
    	    			</t>
    	    		</t>
    	    		<input type="file" name="document"/><br/>
    	    		<br/>
        			Link:  <input name="link" t-att-value="announcement.link"/><br/>
        			Emergency: <t t-if="announcement.emergency == False">
        				<input name="emergency" type="checkbox"/> 
        			</t>
        			<t t-if="announcement.emergency">
        				<input name="emergency" type="checkbox" checked="checked"/>
        			</t> <br/>
        			Author: <input disabled="disabled" t-att-value="author.name"/><br/>
        			<span t-field="author.image" t-field-options='{"widget": "image"}'/> <br/>

        			<span t-field="announcement.picture" t-field-options='{"widget": "image"}'/> <br/>
        			<input type="file" name="picture"/><br/>
        			Title: <input name="title" t-att-value="announcement.name"/> <br/>
        			Description: <input name="description" t-att-value="announcement.description"/> <br/>
        			Where: <br/>
        			Street: <input name="street" t-att-value="announcement.street"/> <br/>
        			Street2: <input name="street2" t-att-value="announcement.street2"/> <br/>
        			zip: <input name="zip" t-att-value="announcement.zip"/> <br/>
        			city: <input name="city" t-att-value="announcement.city"/> <br/>
        			us state:
        			<select name="state_id"> 
        				<t t-if="bool(announcement.state_id) == False">
        					<option value="None" selected="selected"></option>    					
        				</t>
        				<t t-if="bool(announcement.state_id) != False">
        					<option value="None"></option>    					
        				</t>

        				<t t-foreach="us_state_dict.keys()" t-as="state_id">
        					<t t-if="state_id == announcement.state_id.id">
        						<option selected="selected" t-att-value='state_id'><t t-esc='us_state_dict[state_id]'/></option>
        					</t>
        					<t t-if="state_id != announcement.state_id.id">
        						<option t-att-value='state_id'><t t-esc='us_state_dict[state_id]'/></option>
        					</t>
        				</t>
        			</select><br/>
        			<select name="country_id">
        				<t t-if="bool(announcement.country_id) == False">
        					<option value="None" selected="selected"></option>    					
        				</t> 
        				<t t-if="bool(announcement.country_id) != False">
        					<option value="None"></option>    					
        				</t>
    					<t t-foreach="country_dict.keys()" t-as="country_id">
        					<t t-if="country_id == announcement.country_id.id">
        						<option selected="selected" t-att-value='country_id'><t t-esc='country_dict[country_id]'/></option>
        					</t>
        					<t t-if="country_id != announcement.country_id.id">
        						<option t-att-value='country_id'><t t-esc='country_dict[country_id]'/></option>    						
        					</t>
        				</t>
        			</select><br/>
        			From: <input name="date_from" t-att-value="announcement.date_from"/> <br/>
        			To: <input name="date_to" t-att-value="announcement.date_to"/>  <br/>
        			<t t-if="announcement.infinite_qty == False">
        				<input name="unlimited" type="checkbox"/> Infinity
        			</t>
        			<t t-if="announcement.infinite_qty">
        				<input name="unlimited" type="checkbox" checked="checked"/> Infinity
        			</t>
        			<br/>
        			qty: <input name="qty" t-att-value="announcement.quantity"/> <br/>
        			available: <span t-field="announcement.quantity_available"/> <br/>
        			How much:
        			<t t-set="index" t-value="1"/>
        			<t t-foreach="announcement.currency_ids" t-as="currency_line">
        				<input t-att-name="'%s%s' % ('currency_amount', index)" t-att-value="currency_line.price_unit"/>
        				<select t-att-name="'%s%s' % ('currency_id', index)"> 
    						<t t-foreach="currency_dict.keys()" t-as="currency_id">
    	    					<t t-if="currency_id == currency_line.currency_id.id">
    	    						<option selected="selected" t-att-value='currency_id'><t t-esc='currency_dict[currency_id]'/></option>
    	    					</t>
    	    					<t t-if="currency_id != currency_line.currency_id.id">
    	    						<option t-att-value='currency_id'><t t-esc='currency_dict[currency_id]'/></option>
    	    					</t>
    	    				</t>
        				</select><br/>
        				<t t-set="index" t-value="index + 1"/>
    				</t>
                    <t t-foreach="range(len(announcement.currency_ids) + 1, 4)" t-as="i">
                        <input t-att-name="'%s%s' % ('currency_amount', i)"/>
                        <select t-att-name="'%s%s' % ('currency_id', i)"> 
                            <t t-foreach="currency_dict.keys()" t-as="currency_id">
                                <option t-att-value='currency_id'><t t-esc='currency_dict[currency_id]'/></option>
                            </t>
                        </select><br/>

                    </t>
                </form>
	    	</t>
		</template>


		<template id="website_project_weezer.new_announcement" name="New announcement">
    		<t t-call="website.layout">
                <form action="new/save" method="POST" enctype="multipart/form-data">
                    <t t-if='error_param_list'>
                        <t t-foreach="error_param_list" t-as="message">
                            <b><t t-esc="message"/></b>
                        </t><br/>
                    </t>
                    <t t-if='error_message_list'>
                        <t t-foreach="error_message_list" t-as="message">
                            <b><t t-esc="message"/></b><br/>
                        </t>
                    </t>
                    <input type="submit" value="save"/><br/>
  
        			Category: 
        			<select name="category_id">
    					<option value="None" selected="selected"></option>    					
        				<t t-foreach="category_dict.keys()" t-as="category_id">
    						<option t-att-value='category_id'><t t-esc='category_dict[category_id]'/></option>
        				</t>
        			</select><br/>
        			Tags:
        			<select name="tag_ids" multiple="multiple">
    					<option value="None" selected="selected"></option>    					
        				<!-- Must be added with tags from get tag request -->
        			</select>
        			<br/>
        			Groups: 
        			<select name="groups" multiple="multiple">
    					<option value="None" selected="selected"></option>    					
     					<t t-foreach="group_dict.keys()" t-as="group_id">
    						<option t-att-value='group_id'><t t-esc='group_dict[group_id]'/></option>
        				</t>
        				
        			</select><br/>
        			State: 
        				<t t-foreach="state_status_dict.keys()" t-as="state">
        					<t t-if="state == 'draft'">
       							<span><b><t t-esc='state_status_dict[state]'/></b></span>
       						</t>
       						<t t-if="state != 'draft'">
       							<span><t t-esc='state_status_dict[state]'/></span>
       						</t>
        				</t>
        			<br/>
        			Documents: 
                    <input type="file" name="document"/><br/>
    	    		<br/>
        			Link:  <input name="link" /><br/>
        			Emergency: <input name="emergency" type="checkbox"/> <br/>
        			Author: <input disabled="disabled" t-att-value="author.name"/><br/>
        			<span t-field="author.image" t-field-options='{"widget": "image"}'/> <br/>

        			<input type="file" name="picture"/><br/>
        			Title: <input name="title"/> <br/>
        			Description: <input name="description"/> <br/>
        			Where: <br/>
        			Street: <input name="street"/> <br/>
        			Street2: <input name="street2"/> <br/>
        			zip: <input name="zip"/> <br/>
        			city: <input name="city"/> <br/>
        			us state:
        			<select name="state_id"> 
    					<option value="None" selected="selected"></option>    					
        				<t t-foreach="us_state_dict.keys()" t-as="state_id">
    						<option t-att-value='state_id'><t t-esc='us_state_dict[state_id]'/></option>
        				</t>
        			</select><br/>
        			<select name="country_id">
    					<option value="None" selected="selected"></option>    					
    					<t t-foreach="country_dict.keys()" t-as="country_id">
    						<option t-att-value='country_id'><t t-esc='country_dict[country_id]'/></option>    						
        				</t>
        			</select><br/>
        			From: <input name="date_from"/> <br/>
        			To: <input name="date_to"/>  <br/>
    				<input name="unlimited" type="checkbox"/> Infinity
        			<br/>
        			qty: <input name="qty"/> <br/>
        			How much:
        				<input name="currency_amount1" />
        				<select name="currency_uom1"> 
    						<t t-foreach="currency_dict.keys()" t-as="currency_id">
        						<option t-att-value='currency_id'><t t-esc='currency_dict[currency_id]'/></option>
    	    				</t>
        				</select><br/>
        				<input name="currency_amount2" />
        				<select name="currency_uom2"> 
    						<t t-foreach="currency_dict.keys()" t-as="currency_id">
        						<option t-att-value='currency_id'><t t-esc='currency_dict[currency_id]'/></option>
    	    				</t>
        				</select><br/>
        				<input name="currency_amount3" />
        				<select name="currency_uom3"> 
    						<t t-foreach="currency_dict.keys()" t-as="currency_id">
        						<option t-att-value='currency_id'><t t-esc='currency_dict[currency_id]'/></option>
    	    				</t>
        				</select><br/>
                </form>
	    	</t>
		</template>
    </data>
</openerp>